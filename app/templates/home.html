<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BSL Number Translator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/intro.js@7.2.0/minified/introjs.min.css" rel="stylesheet">
    <style>
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #7774bd;
            display: flex;
            flex-direction: column;
        }

        .navbar, .footer {
            background-color: #615ea9;
            color: #ffffff;
            padding: 10px 0;
            text-align: center;
        }

        .navbar {
            top: 0;
            height: 8%;
        }
        .navbar a {
            padding: 14px 16px;
            text-decoration: none;
            color: #ffffff;
            font-size: 17px;
        }
        .navbar a:hover {
            background-color: #cecdf7;
        }
        .main-content {
            flex: 1;
            padding: 20px;
            color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 0;
            width: 100%;
            box-sizing: border-box;
        }
        .footer {
            background-color: transparent;
            position: relative;
            bottom: 0;
            width: 100%;
            text-align: center;
        }
        .content-box {
            background-color: #7777bd;
            position: relative;
            width: 90%;
            height: 70%;
            margin: 20px auto;
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            aspect-ratio: 16 / 9;
        }
        .content-box video {
            width: 100%;
            height: 100%;
        }

        .info-section {
            background-color: #D1D1D1;
            color: #333;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
        }

        .btn {
            background-color: #d3a87c;
            border: none;
            border-radius: 5px;
            color: #fff;
            cursor: pointer;
            font-size: 16px;
        }


        /* Responsive styles */
        @media (max-width: 768px) {
            .btn {
                padding: 8px 16px;
                font-size: 14px;
            }
            .consent-checkbox {
                font-size: 12px;
            }
            .navbar a, .footer {
                font-size: 14px;
            }
            .main-content {
                padding: 20px;
                margin: 10px;
                height: 50%;
            }
        }

        @media (max-width: 480px) {
            .navbar a, .footer {
                font-size: 12px;
            }
            .btn {
                font-size: 12px;
            }
            .main-content {
                height: 50%;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="navbar" data-intro="Welcome to our website! Use this navigation bar to move around.">
        <a href="{{ url_for('views.home') }}" data-intro="Click here to return to the homepage at any time.">HOME</a>
        <a href="{{ url_for('views.upload') }}" data-intro="Go here to upload and analyze your images.">UPLOAD</a>
        <a href="{{ url_for('views.capture') }}" data-intro="Use this to capture images directly from your camera.">CAPTURE</a>
        <button onclick="startTour()" class="btn">Start Tour</button>
    </div>

    <div class="main-content" >
        <div class="info-section"  data-intro="Read this to know more about the website.">
            <h2>Welcome to the BSL Number Translator</h2>
            <p>This website uses artificial intelligence to translate British Sign Language (BSL) numbers into their textual equivalents. By leveraging state-of-the-art AI models, the website provides fast and accurate translations.</p>
            <p>Participate in improving my service! By ticking the consent box on the upload and capture pages, you allow us to use your images to retrain our AI models, enhancing accuracy and performance over time.</p>
        </div>
         <div class="content-box"  data-intro="Here you can see our video tutorials and demos.">
             <video src="{{ url_for('static', filename='videos/DEMO_default.mp4') }}" autoplay loop muted controls ></video>

        </div>
        <button onclick="retrainModels()" class="btn" data-intro="Click this button to retrain the models with new data. ADMIN ONLY!!">Retrain Models</button>
    </div>

    <div class="footer">
        <p>Contact us @ Sheffield Hallam University</p>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/intro.js@7.2.0/intro.min.js"></script>
    <script>
         document.addEventListener('DOMContentLoaded', function() {
           if (!localStorage.getItem('tourCompleted')) {
                introJs().setOptions({
                    skipLabel: 'Exit',
                    nextLabel: 'Next',
                    prevLabel: 'Back',
                    doneLabel: 'Finish',
                    exitOnOverlayClick: false,
                    exitOnEsc: true,
                    showStepNumbers: false,
                    oncomplete: function() {
                        localStorage.setItem('tourCompleted', 'true');
                    },
                    onexit: function() {
                        localStorage.setItem('tourCompleted', 'true');
                    }
                }).start();
           }
        });

        function retrainModels() {
            fetch('/retrain', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            })
            .then(response => response.json())
            .then(data => alert(data.message))
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>

